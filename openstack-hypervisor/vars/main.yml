---
# vars file for openstack-hypervisor

# include security and network tasks
# this is almost always true, unless you have an
# openstack project already set up

set_up_security: true
set_up_network: true

# sets up an openshift-friendly flavor.
create_flavor: true

auth_creds:
  url: http://192.168.1.40:5000/v2.0
  username: jduncan
  password: redhat
  project: jduncan
  admin:
    username: operator
    password: redhat
    project: operators

ssh_key:
  name: jduncan_key
  file_private: /root/.ssh/jduncan
  file_public: /root/.ssh/jduncan.pub

external_network:
  name: public
  router_name: router1
  subnet_cidr: 192.168.0.0/23

private_network:
  name: openshift_int
  subnet_cidr: 192.168.122.0/24
  subnet_name: openshift_subnet
  subnet_dns:
    - 8.8.8.8
    - 8.8.4.4

flavor:
  name: m1.openshift
  ram: 8192
  vcpus: 4
  disk: 20
  ephemeral: 20

instance:
  image_id: 556f8523-3af3-4980-9d94-3a7d414b96aa
  nodes:
    ocp1:
      name: ocp1
      role: master
    ocp2:
      name: ocp2
      role: node

security_group:
  name: openshift
  desc: OpenShift security group
  rules:
    allow_all_internal:
      protocol: tcp
      port_range_min: -1
      port_range_max: -1
      remote_ip_prefix: "{{ private_network.subnet_cidr }}"
    allow_8443_public:
      protocol: tcp
      port_range_min: 8443
      port_range_max: 8443
      remote_ip_prefix: "{{ external_network.subnet_cidr }}"
    allow_22_public:
      protocol: tcp
      port_range_min: 22
      port_range_max: 22
      remote_ip_prefix: "{{ external_network.subnet_cidr }}"
